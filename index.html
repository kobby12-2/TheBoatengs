<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>You Are Invited</title>
	<link rel="preload" as="image" href="coffee brown.png">
	<link rel="preload" as="image" href="caramel background.png">
	<link rel="preload" as="image" href="white back.png">
	<link rel="preload" as="image" href="tb brown logo.png">
	<link rel="preload" as="image" href="together with their families.png">
	<link rel="preload" as="image" href="samuelKEZIAH.png">
	<link rel="preload" as="image" href="date.png">
	<link rel="preload" as="image" href="time.png">
	<link rel="preload" as="image" href="location.png">
	<link rel="preload" as="image" href="wedding attire.png">
	<link rel="preload" as="image" href="the details.png">
	<link rel="preload" as="image" href="qr code.png">
	<link rel="preload" as="image" href="numbers.png">
	<link rel="preload" as="image" href="daddy and mummy front.png">
	<link rel="preload" as="image" href="YOU ARE INVITED.png">
	<link rel="stylesheet" href="styles.css">
</head>
<body>
	<main class="snap-container" aria-label="Wedding swipe pages">
		<section id="hero" class="snap-page" aria-label="Invitation">
			<img class="hero-invite" src="YOU ARE INVITED.png" alt="You Are Invited" loading="eager">
		</section>

		<section id="logo-page" class="snap-page" aria-label="Logo">
			<div class="logo-wrap" data-animate="logo">
				<img src="tb brown logo.png" alt="Wedding Logo" width="420" height="420">
			</div>
		</section>

		<section id="details-page" class="snap-page" aria-label="Wedding details">
			<div class="details-wrap">
				<img class="details-line" src="together with their families.png" alt="together with their families" loading="lazy" style="margin-top: 100px; margin-bottom: 50px;">
				<img class="details-line" src="samuelKEZIAH.png" alt="Samuel & Keziah" loading="lazy" style=" margin-bottom: 60px;">
				<p class="details-sub details-line">invite you to celebrate their wedding</p>
				<img class="details-line" src="date.png" alt="Wedding date" loading="lazy" style="margin-top: 60px;">
				<img class="details-line" src="time.png" alt="Wedding time" loading="lazy" style="margin-top: 40px;">
				<img class="details-line" src="location.png" alt="Wedding location" loading="lazy" style="margin-top: 40px;">
			</div>
		</section>

		<section id="attire-page" class="snap-page" aria-label="Wedding attire">
			<div class="attire-wrap">
				<img class="attire-line attire-title" src="wedding attire.png" alt="wedding attire" loading="lazy" style="margin-top: 80px;">
				<img class="attire-line attire-subtitle" src="We_kindly_ask_that_guests_coordinate_the_colours_below_into_the.png" alt="Attire guidance" loading="lazy">
				<ul class="attire-palette">
					<li class="pill espresso"><span>ESPRESSO</span></li>
					<li class="pill caramel"><span>CARAMEL</span></li>
					<li class="pill almond"><span>ALMOND</span></li>
					<li class="pill yogurt"><span>YOGURT</span></li>
					<li class="pill vanilla"><span>VANILLA</span></li>
					<li class="pill champagne"><span>CHAMPAGNE</span></li>
				</ul>
			</div>
		</section>

		<section id="qr-page" class="snap-page" aria-label="The details and QR">
			<div class="qr-wrap">
				<img class="qr-line qr-title" src="the details.png" alt="the details" loading="lazy" style="margin-top: 80px;">
				<p class="qr-line qr-text">Kindly scan the QR code below to get the location of the ceremony</p>
				<img class="qr-line qr-code" src="qr code.png" alt="QR code" loading="lazy">
				<img class="qr-line qr-sub" src="for additional information, please contact.png" alt="additional info" loading="lazy">
				<img class="qr-line qr-numbers" src="numbers.png" alt="contact numbers" loading="lazy">
			</div>
		</section>

		<section id="photo-page" class="snap-page" aria-label="Couple photo">
			<div class="photo-wrap">
				<img class="photo-line" src="daddy and mummy front.png" alt="Couple photo" loading="lazy">
			</div>
		</section>
	</main>

	<script>
	(function() {
		const container = document.querySelector('.snap-container');
		const sections = Array.from(document.querySelectorAll('section.snap-page'));

		function setVisibleByCenter() {
			const containerRect = container.getBoundingClientRect();
			const centerX = container.scrollLeft + containerRect.width / 2;
			let visibleSection = null;
			let minDist = Infinity;

			sections.forEach(section => {
				const rect = section.getBoundingClientRect();
				const sectionLeft = section.offsetLeft;
				const sectionRight = sectionLeft + section.offsetWidth;
				const sectionCenter = (sectionLeft + sectionRight) / 2;
				const distance = Math.abs(sectionCenter - centerX);

				if (distance < minDist) {
					minDist = distance;
					visibleSection = section;
				}
			});

			// Only update if there's a visible section
			if (visibleSection) {
				sections.forEach(s => {
					if (s === visibleSection) {
						s.classList.add('is-visible');
					} else {
						// Don't remove on first few pages to ensure animations trigger
						if (Math.abs(s.offsetLeft - visibleSection.offsetLeft) > containerRect.width * 1.5) {
							s.classList.remove('is-visible');
						}
					}
				});
			}
		}

		// Debounce function
		function debounce(func, wait) {
			let timeout;
			return function executedFunction(...args) {
				const later = () => {
					clearTimeout(timeout);
					func(...args);
				};
				clearTimeout(timeout);
				timeout = setTimeout(later, wait);
			};
		}

		// Throttled scroll handler for smoother animation triggers
		let lastScrollTime = 0;
		const scrollHandler = () => {
			const now = Date.now();
			if (now - lastScrollTime >= 50) {
				setVisibleByCenter();
				lastScrollTime = now;
			}
		};

		// Initialize
		setVisibleByCenter();
		
		// Event listeners
		window.addEventListener('load', () => {
			setTimeout(setVisibleByCenter, 200);
			setTimeout(setVisibleByCenter, 400);
		}, { once: true });
		
		// Force initial animation after a brief delay
		setTimeout(() => {
			setVisibleByCenter();
			sections[0].classList.add('is-visible');
		}, 50);
		
		window.addEventListener('resize', debounce(() => {
			setTimeout(setVisibleByCenter, 150);
		}, 250));
		
		container.addEventListener('scroll', scrollHandler, { passive: true });
		
		// Touch end handler for better mobile responsiveness
		container.addEventListener('touchstart', () => {
			container.removeEventListener('scroll', setVisibleByCenter);
		}, { once: true });
		
		container.addEventListener('touchend', () => {
			setTimeout(() => {
				setVisibleByCenter();
				container.addEventListener('scroll', scrollHandler, { passive: true });
			}, 200);
		});
	})();
	</script>
</body>
</html>

